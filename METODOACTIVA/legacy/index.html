<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√©todo Activa - Salud y Bienestar</title>
    
    <!-- 1. Cargar Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. Mapa de Importaciones (Permite usar 'import' en el navegador sin instalar nada) -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
            "lucide-react": "https://esm.sh/lucide-react@0.344.0"
        }
    }
    </script>

    <!-- 3. Babel para entender el c√≥digo React (JSX) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Estilos personalizados para las animaciones del libro -->
    <style>
        body { margin: 0; font-family: sans-serif; }
        /* Animaciones personalizadas que estaban en el componente */
        .book-stage { perspective: 2000px; }
        .flipping-page { transform-origin: left center; z-index: 50; backface-visibility: hidden; }
        .page-sheen {
          background: linear-gradient(to right, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
          animation: sheenMove 0.8s linear forwards;
        }
        @keyframes pageTurnNext { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(-180deg); } }
        @keyframes pageTurnPrev { 0% { transform: rotateY(-180deg); } 100% { transform: rotateY(0deg); } }
        @keyframes sheenMove { 0% { transform: translateX(-100%); } 100% { transform: translateX(200%); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 4. Tu C√≥digo de Aplicaci√≥n -->
    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import { createRoot } from 'react-dom/client';
        import { 
            BookOpen, Heart, Brain, Activity, ArrowRight, Menu, X, 
            ShoppingCart, Star, Check, ShieldCheck, Truck, Users,
            Loader2, MessageCircle, Send, Download, FileText, Music, Phone, Mail, Lock, ChevronLeft, ChevronRight
        } from 'lucide-react';

        // --- Utility Components ---

        const Button = ({ children, variant = 'primary', className = '', ...props }) => {
            const baseStyle = "px-8 py-4 rounded-full font-bold transition-all duration-300 transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed";
            
            const variants = {
                amazon: "bg-[#FF9900] text-white hover:bg-[#ffad33] border border-transparent shadow-orange-900/10",
                primary: "bg-gradient-to-b from-[#EC008C] to-[#B5006C] text-white hover:shadow-pink-500/50 border border-transparent hover:brightness-110",
                secondary: "bg-white text-gray-900 border-2 border-gray-100 hover:border-[#00AEEF] hover:text-[#00AEEF]",
                ghost: "bg-transparent text-gray-600 hover:bg-gray-100",
                icon: "p-3 rounded-full hover:bg-gray-100 text-gray-600 transition-colors"
            };

            return (
                <button className={`${baseStyle} ${variants[variant]} ${className}`} {...props}>
                    {children}
                </button>
            );
        };

        const Section = ({ id, className = '', children }) => (
            <section id={id} className={`py-20 md:py-28 relative ${className}`}>
                {children}
            </section>
        );

        const FadeIn = ({ children, delay = 0 }) => {
            const [isVisible, setIsVisible] = useState(false);
            const domRef = useRef();

            useEffect(() => {
                const observer = new IntersectionObserver(entries => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) setIsVisible(true);
                    });
                });
                if (domRef.current) observer.observe(domRef.current);
                return () => observer.disconnect();
            }, []);

            return (
                <div 
                    ref={domRef}
                    style={{ transitionDelay: `${delay}ms` }}
                    className={`transition-all duration-1000 transform ${isVisible ? 'translate-y-0 opacity-100' : 'translate-y-10 opacity-0'}`}
                >
                    {children}
                </div>
            );
        };

        // --- IMAGES ---
        const IMAGES = {
            cover: "https://images.unsplash.com/photo-1544947950-fa07a98d237f?auto=format&fit=crop&q=80&w=600",
            author: "https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?auto=format&fit=crop&q=80&w=400",
            bookMockup: "https://images.unsplash.com/photo-1589829085413-56de8ae18c73?auto=format&fit=crop&q=80&w=800",
            chart: "https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&q=80&w=800"
        };

        // --- GEMINI API INTEGRATION ---
        const apiKey = ""; // Inserta tu API Key aqu√≠ si la tienes

        // --- ULTRA-PREMIUM 3D BOOK READER ---
        const BookReader = ({ onClose, onBuy }) => {
            const [page, setPage] = useState(0);
            const [isFlipping, setIsFlipping] = useState(false);
            const [flipDirection, setFlipDirection] = useState('next');
            const totalPages = 4;

            const handleNext = () => {
                if (page < totalPages - 1) {
                    setFlipDirection('next');
                    setIsFlipping(true);
                    setTimeout(() => {
                        setPage(page + 1);
                        setIsFlipping(false);
                    }, 800);
                }
            };

            const handlePrev = () => {
                if (page > 0) {
                    setFlipDirection('prev');
                    setIsFlipping(true);
                    setTimeout(() => {
                        setPage(page - 1);
                        setIsFlipping(false);
                    }, 800);
                }
            };

            const PageContent = ({ index }) => {
                switch(index) {
                case 0: // COVER
                    return (
                    <div className="w-full h-full bg-[#1a1a1a] flex flex-col items-center justify-center relative overflow-hidden shadow-inner rounded-r-md border-l-4 border-gray-800 group cursor-pointer" onClick={handleNext}>
                        <img 
                        src={IMAGES.cover}
                        alt="Portada M√©todo Activa" 
                        className="w-full h-full object-cover opacity-90"
                        />
                        <div className="absolute inset-0 bg-gradient-to-tr from-black/60 via-transparent to-white/10 pointer-events-none"></div>
                        <div className="absolute bottom-10 left-0 w-full text-center">
                            <h1 className="text-4xl font-black text-white tracking-widest drop-shadow-lg font-serif">M√âTODO ACTIVA</h1>
                            <p className="text-[#EC008C] font-bold tracking-wide mt-2">AURORA DEL R√çO</p>
                        </div>
                    </div>
                    );
                case 1: // INTRO
                    return (
                    <div className="w-full h-full text-gray-800 p-8 md:p-12 font-serif relative overflow-y-auto" style={{ background: '#fdfbf7' }}>
                        <div className="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-black/5 to-transparent pointer-events-none"></div>
                        <span className="text-[10px] font-sans font-bold text-gray-400 uppercase tracking-widest absolute top-8 right-8">Cap√≠tulo 1</span>
                        <h2 className="font-sans font-black text-3xl mb-8 mt-4 text-[#EC008C]">La Verdad</h2>
                        <div className="prose prose-sm md:prose-base leading-relaxed text-gray-700">
                        <p className="first-letter:text-5xl first-letter:font-bold first-letter:text-black first-letter:float-left first-letter:mr-3">
                            Te han mentido durante a√±os. Te han dicho que el arte es un adorno, un lujo innecesario.
                        </p>
                        <p>
                            La neurociencia moderna confirma lo que los antiguos sab√≠an: tu cerebro muere de hambre est√©tica.
                        </p>
                        <div className="my-8 pl-4 border-l-2 border-[#EC008C] italic text-gray-600 font-medium">
                            "No es un colapso repentino. Es un apag√≥n lento y silencioso de tu sistema nervioso."
                        </div>
                        <p>
                            Vivimos en la era de la desconexi√≥n. Tienes mil mensajes sin leer, pero no recuerdas tu propio pulso.
                        </p>
                        </div>
                        <div className="absolute bottom-6 left-0 w-full text-center text-xs text-gray-400 font-sans">1</div>
                    </div>
                    );
                case 2: // SCIENCE
                    return (
                    <div className="w-full h-full text-gray-800 p-8 md:p-12 font-serif relative overflow-y-auto" style={{ background: '#fdfbf7' }}>
                        <h2 className="font-sans font-black text-3xl mb-8 mt-4 text-[#00AEEF]">El Diagn√≥stico</h2>
                        <div className="space-y-6">
                        <p className="leading-relaxed text-gray-700">
                            Tu cuerpo funciona como una orquesta desafinada. Necesitas sincronizar los tres pisos de tu biolog√≠a:
                        </p>
                        <div className="bg-white/50 border border-gray-200 p-6 rounded-lg shadow-sm">
                            <ul className="space-y-4 font-sans text-sm">
                            <li className="flex gap-3 items-center">
                                <span className="w-8 h-8 rounded-full bg-[#FFD200]/20 text-[#F7941D] flex items-center justify-center font-bold shrink-0">1</span>
                                <span><strong>Cuerpo:</strong> Necesita ritmo constante.</span>
                            </li>
                            <li className="flex gap-3 items-center">
                                <span className="w-8 h-8 rounded-full bg-[#2DD6F5]/20 text-[#00AEEF] flex items-center justify-center font-bold shrink-0">2</span>
                                <span><strong>Mente:</strong> Necesita estructura est√©tica.</span>
                            </li>
                            <li className="flex gap-3 items-center">
                                <span className="w-8 h-8 rounded-full bg-[#EC008C]/20 text-[#B5006C] flex items-center justify-center font-bold shrink-0">3</span>
                                <span><strong>Coraz√≥n:</strong> Necesita belleza y v√≠nculo.</span>
                            </li>
                            </ul>
                        </div>
                        <p className="font-bold text-gray-900 mt-4">
                            Este libro es tu manual de reparaci√≥n.
                        </p>
                        </div>
                        <div className="absolute bottom-6 left-0 w-full text-center text-xs text-gray-400 font-sans">2</div>
                    </div>
                    );
                case 3: // BACK COVER / CTA
                    return (
                    <div className="w-full h-full bg-white flex flex-col items-center justify-center p-8 text-center relative border-l border-gray-100">
                        <div className="absolute inset-0 bg-gradient-to-br from-gray-50 to-white"></div>
                        <div className="relative z-10 max-w-xs w-full">
                        <div className="w-16 h-16 bg-[#00AEEF] text-white rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-xl rotate-3">
                            <ShoppingCart size={32} />
                        </div>
                        <h3 className="text-3xl font-black text-gray-900 mb-4">¬øListo para sanar?</h3>
                        <p className="text-gray-500 mb-8 font-serif">
                            Has le√≠do el inicio. Accede ahora al protocolo completo de 21 d√≠as.
                        </p>
                        <Button onClick={onBuy} variant="amazon" className="w-full py-4 text-lg shadow-xl hover:scale-105 transition-transform">
                            Comprar en Amazon
                        </Button>
                        <div className="mt-8 text-xs text-gray-400 font-sans uppercase tracking-widest">
                            Garant√≠a de Satisfacci√≥n
                        </div>
                        </div>
                    </div>
                    );
                default: return null;
                }
            };

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-gray-900/95 backdrop-blur-xl animate-in fade-in duration-500">
                <button onClick={onClose} className="absolute top-6 right-6 text-white/50 hover:text-white transition-colors z-50 p-3 hover:bg-white/10 rounded-full">
                    <X size={32} />
                </button>

                <div className="book-stage relative w-full max-w-md md:max-w-2xl aspect-[3/4.5] md:aspect-[7/5] flex items-center justify-center">
                    {/* Left page (static background for desktop) */}
                    <div className="hidden md:block absolute top-0 left-0 w-1/2 h-full bg-[#f5f5f5] rounded-l-lg border-r border-gray-300 shadow-inner z-0 transform translate-x-[1px]">
                        <div className="w-full h-full opacity-50 bg-[#fdfbf7]"></div>
                    </div>

                    {/* Right page container */}
                    <div className="relative w-full md:w-1/2 h-full bg-[#fdfbf7] rounded-r-lg shadow-2xl overflow-hidden flex flex-col md:block">
                    <div className={`w-full h-full transition-opacity duration-300 ${isFlipping ? 'opacity-0' : 'opacity-100'}`}>
                        <PageContent index={page} />
                    </div>
                    
                    {isFlipping && (
                        <div className="absolute inset-0 z-50 pointer-events-none perspective-origin-left">
                        <div 
                            className={`absolute inset-0 bg-[#fdfbf7] shadow-xl origin-left transition-transform duration-[800ms] ease-in-out border-l border-gray-200
                            ${flipDirection === 'next' ? 'animate-[pageTurnNext_0.8s_forwards]' : 'animate-[pageTurnPrev_0.8s_forwards]'}`}
                            style={{ transformStyle: 'preserve-3d', background: '#fdfbf7' }}
                        >
                            <div className="absolute inset-0 w-full h-full page-sheen opacity-30"></div>
                            <div className="absolute inset-0 bg-gray-100 backface-hidden" style={{ transform: 'rotateY(180deg)' }}></div>
                        </div>
                        </div>
                    )}
                    <div className="absolute top-0 bottom-0 left-0 w-8 bg-gradient-to-r from-black/20 to-transparent pointer-events-none mix-blend-multiply"></div>
                    </div>

                    <div className="absolute -bottom-20 left-0 w-full flex justify-center gap-8 items-center z-50">
                    <button onClick={handlePrev} disabled={page === 0} className="p-4 rounded-full bg-white/10 hover:bg-white text-white hover:text-black backdrop-blur-md transition-all disabled:opacity-20 disabled:cursor-not-allowed shadow-xl"><ChevronLeft size={24} /></button>
                    <div className="text-white/60 font-sans text-xs tracking-widest">{page === 0 ? 'PORTADA' : `${page} / 3`}</div>
                    <button onClick={handleNext} disabled={page === 3} className="p-4 rounded-full bg-white/10 hover:bg-white text-white hover:text-black backdrop-blur-md transition-all disabled:opacity-20 disabled:cursor-not-allowed shadow-xl"><ChevronRight size={24} /></button>
                    </div>
                </div>
                </div>
            );
        };

        // --- CHATBOT WITH GEMINI ---
        const CustomerSupportChat = () => {
            const [messages, setMessages] = useState([
                { role: 'assistant', text: '¬°Hola! Soy el asistente virtual de M√©todo Activa. ¬øTienes dudas sobre el libro, los env√≠os o el plan de 21 d√≠as? ¬°Preg√∫ntame lo que quieras!' }
            ]);
            const [input, setInput] = useState('');
            const [loading, setLoading] = useState(false);
            const messagesEndRef = useRef(null);

            useEffect(() => { messagesEndRef.current?.scrollIntoView({ behavior: "smooth" }); }, [messages]);

            const handleSendMessage = async () => {
                if (!input.trim()) return;
                const userMsg = { role: 'user', text: input };
                setMessages(prev => [...prev, userMsg]);
                setInput('');
                setLoading(true);

                // DEMO MODE
                if (!apiKey) {
                    setTimeout(() => {
                        setMessages(prev => [...prev, { role: 'assistant', text: "¬°Gracias por tu mensaje! Como est√°s en modo demostraci√≥n (sin API Key), no puedo consultar a mi cerebro real, pero el libro cubre ese tema en profundidad en el Cap√≠tulo 3. ¬øTe gustar√≠a saber m√°s sobre el env√≠o gratuito?" }]);
                        setLoading(false);
                    }, 1500);
                    return;
                }

                const systemPrompt = `Eres un asistente de ventas para el libro 'M√©todo Activa'. Responde dudas sobre el libro, precio (~19.95‚Ç¨), env√≠os (Amazon Prime) y contenido. S√© breve y persuasivo.`;
                
                try {
                const response = await fetch(
                    `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`,
                    {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ role: 'user', parts: [{ text: input }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] }
                    })
                    }
                );
                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Lo siento, no pude procesar eso. Cont√°ctanos en info@metodoactiva.es";
                setMessages(prev => [...prev, { role: 'assistant', text: text }]);
                } catch (e) {
                setMessages(prev => [...prev, { role: 'assistant', text: "Error de conexi√≥n. Intenta de nuevo." }]);
                } finally {
                setLoading(false);
                }
            };

            return (
                <div className="max-w-3xl mx-auto bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden flex flex-col h-[500px]">
                <div className="bg-gradient-to-r from-[#2DD6F5] to-[#00AEEF] p-4 text-white flex items-center justify-between shrink-0">
                    <div className="flex items-center gap-3">
                    <div className="bg-white/20 p-2 rounded-full"><MessageCircle className="text-white" size={24} /></div>
                    <div><h3 className="font-bold text-lg">Soporte M√©todo Activa</h3><p className="text-blue-50 text-xs flex items-center gap-1"><span className="w-2 h-2 bg-[#FFD200] rounded-full animate-pulse"></span> En l√≠nea</p></div>
                    </div>
                </div>
                <div className="flex-1 overflow-y-auto p-6 bg-gray-50 space-y-4">
                    {messages.map((msg, idx) => (
                    <div key={idx} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                        <div className={`max-w-[80%] p-4 rounded-2xl text-sm leading-relaxed shadow-sm ${msg.role === 'user' ? 'bg-[#00AEEF] text-white rounded-tr-none' : 'bg-white text-gray-700 border border-gray-100 rounded-tl-none'}`}>{msg.text}</div>
                    </div>
                    ))}
                    <div ref={messagesEndRef} />
                </div>
                <div className="p-4 bg-white border-t border-gray-100 shrink-0 flex gap-2 relative">
                    <input type="text" className="w-full p-4 pr-12 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#00AEEF] focus:border-transparent outline-none transition-all" placeholder="Escribe tu pregunta..." value={input} onChange={(e) => setInput(e.target.value)} onKeyPress={(e) => e.key === 'Enter' && handleSendMessage()} disabled={loading} />
                    <button onClick={handleSendMessage} disabled={loading || !input.trim()} className="absolute right-6 top-6 bottom-6 text-[#00AEEF] hover:text-[#008CCF] disabled:opacity-50 flex items-center justify-center">{loading ? <Loader2 className="animate-spin" size={24} /> : <Send size={24} />}</button>
                </div>
                </div>
            );
        };

        // --- Commercial Components ---
        const AmazonReviewCard = ({ title, author, date, text }) => (
            <div className="bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow">
                <div className="flex items-center gap-1 mb-2">
                {[...Array(5)].map((_, i) => <Star key={i} size={16} className="text-[#FF9900] fill-[#FF9900]" />)}
                <span className="text-xs font-bold text-[#B5006C] ml-2">Compra verificada</span>
                </div>
                <h4 className="font-bold text-gray-900 mb-1">{title}</h4>
                <p className="text-xs text-gray-500 mb-3">Revisado en Espa√±a el {date}</p>
                <p className="text-gray-700 text-sm leading-relaxed mb-4">"{text}"</p>
                <div className="flex items-center gap-2"><div className="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-500 font-bold text-xs">{author.charAt(0)}</div><span className="text-sm font-medium text-gray-600">{author}</span></div>
            </div>
        );

        const BenefitRow = ({ icon: Icon, title, desc, category = 'mind' }) => {
            const gradients = { body: "from-[#FFD200] to-[#F7941D]", mind: "from-[#2DD6F5] to-[#00AEEF]", heart: "from-[#EC008C] to-[#B5006C]" };
            const textColors = { body: "text-[#F7941D]", mind: "text-[#00AEEF]", heart: "text-[#B5006C]" };
            return (
                <div className="flex items-start gap-4 p-4 hover:bg-white hover:shadow-lg rounded-xl transition-all duration-300 group">
                <div className={`w-12 h-12 rounded-full bg-gradient-to-b ${gradients[category]} flex items-center justify-center flex-shrink-0 text-white shadow-md group-hover:scale-110 transition-transform`}><Icon size={24} /></div>
                <div><h3 className={`font-bold text-lg mb-1 ${textColors[category]}`}>{title}</h3><p className="text-gray-600 text-sm leading-relaxed">{desc}</p></div>
                </div>
            );
        };

        const LeadMagnetModal = ({ isOpen, onClose, onSuccess }) => {
            const [email, setEmail] = useState('');
            const [loading, setLoading] = useState(false);
            const handleSubmit = (e) => { e.preventDefault(); if (!email) return; setLoading(true); setTimeout(() => { setLoading(false); onSuccess(); }, 1500); };
            if (!isOpen) return null;
            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center p-4">
                <div className="absolute inset-0 bg-gray-900/80 backdrop-blur-sm" onClick={onClose}></div>
                <div className="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden relative z-10 animate-in zoom-in duration-300">
                    <button onClick={onClose} className="absolute top-4 right-4 text-gray-400 hover:text-gray-600"><X size={24} /></button>
                    <div className="bg-gradient-to-r from-[#2DD6F5] to-[#00AEEF] p-8 text-center text-white"><div className="w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-sm"><Lock size={32} className="text-white" /></div><h3 className="text-2xl font-bold mb-2">Desbloquear Recursos</h3><p className="text-blue-100 text-sm">Ingresa tu email para acceder al Cap√≠tulo 1 y las herramientas gratuitas.</p></div>
                    <div className="p-8"><form onSubmit={handleSubmit} className="space-y-4"><div><label className="block text-sm font-bold text-gray-700 mb-2">Tu mejor correo electr√≥nico</label><input type="email" required className="w-full p-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-[#00AEEF] outline-none" placeholder="ejemplo@correo.com" value={email} onChange={(e) => setEmail(e.target.value)} /></div><Button className="w-full justify-center" disabled={loading}>{loading ? <Loader2 className="animate-spin" /> : 'Desbloquear Acceso Ahora'}</Button><p className="text-xs text-gray-400 text-center">üîí Tus datos est√°n 100% seguros.</p></form></div>
                </div>
                </div>
            );
        };

        // --- Main App ---
        function App() {
            const [isMenuOpen, setIsMenuOpen] = useState(false);
            const [scrolled, setScrolled] = useState(false);
            const [showLeadModal, setShowLeadModal] = useState(false);
            const [showContentModal, setShowContentModal] = useState(false);
            const [hasRegistered, setHasRegistered] = useState(false);

            useEffect(() => {
                const handleScroll = () => setScrolled(window.scrollY > 50);
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const scrollTo = (id) => { setIsMenuOpen(false); document.getElementById(id)?.scrollIntoView({ behavior: 'smooth' }); };
            const openAmazon = () => { window.open("https://www.amazon.es", "_blank"); };
            const handleAccessRequest = () => { if (hasRegistered) { setShowContentModal(true); } else { setShowLeadModal(true); } };
            const handleLeadSuccess = () => { setHasRegistered(true); setShowLeadModal(false); setShowContentModal(true); };

            return (
                <div className="font-sans text-gray-900 bg-gray-50 overflow-x-hidden selection:bg-[#2DD6F5] selection:text-[#B5006C]">
                <nav className={`sticky top-0 z-50 transition-all duration-300 ${scrolled ? 'bg-white shadow-md py-3' : 'bg-white/90 backdrop-blur-md py-4'}`}>
                    <div className="container mx-auto px-6 flex justify-between items-center">
                    <div className="flex items-center gap-2 cursor-pointer" onClick={() => scrollTo('hero')}>
                        <span className="w-10 h-10 rounded-full bg-gradient-to-br from-[#EC008C] to-[#B5006C] flex items-center justify-center text-white font-black text-xl">M</span>
                        <span className="text-xl font-bold tracking-tight text-gray-800">M√âTODO ACTIVA</span>
                    </div>
                    <div className="hidden md:flex items-center gap-8 font-medium text-gray-600 text-sm">
                        <button onClick={() => scrollTo('autor')} className="hover:text-[#EC008C] transition-colors">Qui√©nes Somos</button>
                        <button onClick={() => scrollTo('recursos')} className="hover:text-[#00AEEF] transition-colors flex items-center gap-1"><Brain size={16}/> Recursos</button>
                        <button onClick={() => scrollTo('chat')} className="hover:text-[#F7941D] transition-colors flex items-center gap-1 text-gray-600 font-bold"><MessageCircle size={14}/> Soporte</button>
                        <button onClick={() => scrollTo('reviews')} className="hover:text-[#B5006C] transition-colors">Opiniones</button>
                        <button onClick={openAmazon} className="bg-[#FF9900] hover:bg-[#ffad33] text-white px-6 py-2 rounded-md font-bold text-sm flex items-center gap-2 shadow-sm transition-colors"><ShoppingCart size={16} /> Comprar en Amazon</button>
                    </div>
                    <button className="md:hidden text-gray-800 p-2" onClick={() => setIsMenuOpen(!isMenuOpen)}><Menu /></button>
                    </div>
                </nav>

                {/* Mobile Menu Overlay */}
                {isMenuOpen && (
                    <div className="fixed inset-0 z-40 bg-white pt-20 px-6 space-y-4 md:hidden">
                        <button onClick={() => scrollTo('autor')} className="block w-full text-left py-3 text-lg border-b border-gray-100">Qui√©nes Somos</button>
                        <button onClick={() => scrollTo('recursos')} className="block w-full text-left py-3 text-lg border-b border-gray-100">Recursos</button>
                        <button onClick={() => scrollTo('chat')} className="block w-full text-left py-3 text-lg border-b border-gray-100">Soporte</button>
                        <button onClick={openAmazon} className="block w-full text-center bg-[#FF9900] text-white py-3 rounded-lg font-bold mt-4">Comprar en Amazon</button>
                    </div>
                )}

                <div id="hero" className="relative pt-12 pb-20 bg-white overflow-hidden">
                    <div className="absolute top-0 right-0 w-[500px] h-[500px] bg-[#EC008C] rounded-full blur-[180px] opacity-10 pointer-events-none"></div>
                    <div className="absolute bottom-0 left-0 w-[500px] h-[500px] bg-[#2DD6F5] rounded-full blur-[180px] opacity-10 pointer-events-none"></div>
                    <div className="container mx-auto px-6 relative z-10">
                    <div className="flex flex-col lg:flex-row items-center gap-12">
                        <div className="lg:w-1/2 text-center lg:text-left z-10">
                        <FadeIn>
                            <div className="inline-flex items-center gap-3 px-5 py-2 bg-white border border-gray-100 rounded-full shadow-[0_4px_20px_rgba(0,0,0,0.08)] mb-8 transition-transform hover:scale-105 cursor-default ring-1 ring-gray-50 max-w-full">
                            <span className="flex-shrink-0 flex h-3 w-3 relative">
                                <span className="animate-ping absolute inline-flex h-full w-full rounded-full bg-[#EC008C] opacity-75"></span>
                                <span className="relative inline-flex rounded-full h-3 w-3 bg-[#EC008C]"></span>
                            </span>
                            <span className="text-xs md:text-sm font-bold tracking-wide text-gray-600 whitespace-normal text-left">CON EL <span className="text-[#00AEEF]">M√âTODO ACTIVA</span> PUEDES TENER <span className="text-[#B5006C]">SALUD Y BIENESTAR</span></span>
                            </div>
                            <h1 className="text-4xl lg:text-6xl font-black leading-tight mb-6 text-gray-900">ACTIVA TU <br/><span className="bg-clip-text text-transparent bg-gradient-to-b from-[#FFD200] to-[#F7941D]">CUERPO</span>, <span className="bg-clip-text text-transparent bg-gradient-to-b from-[#2DD6F5] to-[#00AEEF]">MENTE</span> Y <span className="bg-clip-text text-transparent bg-gradient-to-b from-[#EC008C] to-[#B5006C]">CORAZ√ìN</span></h1>
                            <p className="text-lg text-gray-600 mb-8 leading-relaxed max-w-xl mx-auto lg:mx-0">La <strong>musicoterapia es una herramienta que sana, cl√≠nicamente comprobado</strong>. Descubre c√≥mo el M√©todo Activa reduce el estr√©s, sana la ansiedad y recupera tu vitalidad en solo 21 d√≠as.</p>
                            <div className="flex flex-col sm:flex-row gap-4 justify-center lg:justify-start">
                            <Button onClick={openAmazon} className="text-lg px-10" variant="amazon">Comprar en Amazon</Button>
                            <Button variant="secondary" onClick={handleAccessRequest}>{hasRegistered ? <BookOpen size={20} /> : <Lock size={20} />} Leer primer cap√≠tulo</Button>
                            </div>
                            <div className="mt-8 flex items-center justify-center lg:justify-start gap-6 text-sm text-gray-500">
                            <div className="flex items-center gap-1"><Star size={18} className="text-[#FF9900] fill-[#FF9900]" /><span className="font-bold text-gray-900">4.9/5</span><span className="text-gray-400">(+500 valoraciones)</span></div>
                            <div className="flex items-center gap-1"><Truck size={18} className="text-gray-400" /><span>Env√≠o GRATIS con Prime</span></div>
                            </div>
                        </FadeIn>
                        </div>
                        <div className="lg:w-1/2 relative">
                        <FadeIn delay={200}>
                            <div className="relative mx-auto w-3/4 max-w-md group">
                                <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[120%] h-[120%] bg-gradient-to-tr from-[#F7941D] to-[#EC008C] rounded-full blur-[80px] opacity-20 group-hover:opacity-30 transition-opacity"></div>
                                <div className="relative z-10 rounded-r-lg shadow-[20px_20px_60px_-15px_rgba(0,0,0,0.3)] transform rotate-y-12 hover:rotate-0 transition-transform duration-700 ease-out cursor-pointer" onClick={openAmazon}>
                                    {/* Book Mockup Image */}
                                    <img src={IMAGES.bookMockup} alt="Libro M√©todo Activa Tapa Blanda" className="w-full rounded-lg shadow-xl" />
                                </div>
                                <div className="absolute -bottom-6 -right-6 bg-white p-4 rounded-xl shadow-lg z-20 flex items-center gap-3 animate-bounce duration-[3000ms]">
                                <div className="bg-[#FF9900]/10 p-2 rounded-full text-[#FF9900]"><Star size={20} fill="currentColor"/></div>
                                <div><p className="text-[10px] text-gray-500 font-bold uppercase">Categor√≠a</p><p className="font-bold text-gray-900 text-sm">Best Seller</p></div>
                                </div>
                            </div>
                        </FadeIn>
                        </div>
                    </div>
                    </div>
                </div>

                <Section id="beneficios" className="bg-white">
                    <div className="container mx-auto px-6">
                    <div className="text-center mb-16"><h2 className="text-3xl font-bold text-gray-900 mb-4">¬øPor qu√© este libro est√° cambiando vidas?</h2><p className="text-gray-500 max-w-2xl mx-auto">M√°s que un libro, es una prescripci√≥n m√©dica natural. Basado en estudios cl√≠nicos de neuroest√©tica.</p></div>
                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div className="space-y-8">
                        <BenefitRow category="body" icon={Activity} title="Reduce el Cortisol" desc="Aprende t√©cnicas de 'arrastre r√≠tmico' para calmar tu sistema nervioso y bajar la hormona del estr√©s en minutos."/>
                        <BenefitRow category="mind" icon={Brain} title="Claridad Mental" desc="Elimina la 'niebla mental' activando nuevas rutas neuronales a trav√©s de la estimulaci√≥n est√©tica y visual."/>
                        <BenefitRow category="heart" icon={Heart} title="Sanaci√≥n Emocional" desc="Desbloquea traumas que las palabras no pueden alcanzar mediante el bypass del sistema l√≠mbico."/>
                        </div>
                        <div className="hidden lg:flex items-center justify-center">
                            <img src={IMAGES.chart} alt="Esquema de Salud M√©todo Activa" className="rounded-2xl shadow-xl hover:shadow-2xl transition-shadow w-full max-w-sm object-cover border border-gray-100 h-80"/>
                        </div>
                        <div className="space-y-8">
                        <BenefitRow category="body" icon={ShieldCheck} title="Refuerza Inmunidad" desc="La reducci√≥n del estr√©s cr√≥nico fortalece tu sistema inmunol√≥gico de forma natural."/>
                        <BenefitRow category="heart" icon={Users} title="Mejora Relaciones" desc="La regulaci√≥n emocional te permite conectar con los dem√°s desde la calma, no desde la reacci√≥n."/>
                        <BenefitRow category="mind" icon={Check} title="Plan de 21 D√≠as" desc="Incluye una gu√≠a pr√°ctica paso a paso para integrar estos h√°bitos en tu rutina diaria sin esfuerzo."/>
                        </div>
                    </div>
                    </div>
                </Section>

                <Section id="recursos" className="bg-gray-50">
                    <div className="container mx-auto px-6">
                    <div className="text-center mb-16"><h2 className="text-3xl font-bold text-gray-900 mb-4">Recursos Gratuitos para Lectores</h2><p className="text-gray-500 max-w-2xl mx-auto mb-8">Este libro no solo es teor√≠a. Incluye un kit de herramientas y recursos pr√°cticos validados por estudios cl√≠nicos. Reg√≠strate para acceder al √°rea de miembros.</p><Button onClick={handleAccessRequest} className="mx-auto" variant="primary"><Download size={20} /> Acceder al Kit de Herramientas</Button></div>
                    <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <div className="space-y-8">
                        <BenefitRow category="body" icon={Music} title="Playlists Terap√©uticas" desc="Acceso a listas de m√∫sica con 'arrastre r√≠tmico' dise√±adas para bajar el cortisol en minutos."/>
                        <BenefitRow category="mind" icon={Brain} title="Ejercicios Cognitivos" desc="T√©cnicas de dibujo y visualizaci√≥n para eliminar la 'niebla mental' y activar nuevas rutas neuronales."/>
                        <BenefitRow category="heart" icon={Heart} title="Diario Emocional" desc="Plantillas para desbloquear traumas que las palabras no pueden alcanzar mediante el bypass l√≠mbico."/>
                        </div>
                        <div className="hidden lg:flex items-center justify-center p-8 bg-white rounded-3xl shadow-sm border border-gray-100">
                            <div className="text-center">
                            <div className="flex justify-center -space-x-4 mb-4">
                                <div className="w-16 h-16 rounded-full bg-gradient-to-br from-[#FFD200] to-[#F7941D] opacity-80 ring-4 ring-white"></div>
                                <div className="w-16 h-16 rounded-full bg-gradient-to-br from-[#2DD6F5] to-[#00AEEF] opacity-80 ring-4 ring-white"></div>
                                <div className="w-16 h-16 rounded-full bg-gradient-to-br from-[#EC008C] to-[#B5006C] opacity-80 ring-4 ring-white"></div>
                            </div>
                            <p className="font-bold text-gray-900 text-lg">Kit de Herramientas<br/>Tr√≠ada Maestra</p>
                            <button onClick={handleAccessRequest} className="mt-4 text-[#00AEEF] text-sm font-bold hover:underline">Descargar Demo</button>
                            </div>
                        </div>
                        <div className="space-y-8">
                        <BenefitRow category="body" icon={ShieldCheck} title="Gu√≠a Inmunol√≥gica" desc="Protocolos para fortalecer tu sistema inmunol√≥gico reduciendo el estr√©s cr√≥nico de forma natural."/>
                        <BenefitRow category="heart" icon={Users} title="Din√°micas Grupales" desc="Ejercicios para mejorar relaciones conectando desde la calma y la regulaci√≥n emocional."/>
                        <BenefitRow category="mind" icon={FileText} title="Plan de 21 D√≠as" desc="Tu hoja de ruta paso a paso para integrar estos h√°bitos en tu rutina diaria sin esfuerzo."/>
                        </div>
                    </div>
                    </div>
                </Section>

                <Section id="chat" className="bg-white">
                    <div className="container mx-auto px-6 text-center">
                    <div className="mb-12">
                        <h2 className="text-3xl font-bold text-gray-900 mb-6">ESTAMOS PARA AYUDARTE A CONSEGUIR TU LIBRO</h2>
                        <div className="text-gray-500 max-w-2xl mx-auto flex flex-col items-center justify-center gap-4">
                        <span>Habla con nuestro agente que responder√° tus dudas.</span>
                        <div className="flex flex-col gap-3 items-center">
                            <span className="flex items-center gap-2">Si quieres podemos hablar al tel√©fono: <span className="font-bold text-[#00AEEF] flex items-center gap-1 whitespace-nowrap"><Phone size={18}/> 643 882 154</span></span>
                            <span className="flex items-center gap-2">o escr√≠benos a: <span className="font-bold text-[#B5006C] flex items-center gap-1 whitespace-nowrap"><Mail size={18}/> info@metodoactiva.es</span></span>
                        </div>
                        </div>
                    </div>
                    <CustomerSupportChat />
                    </div>
                </Section>

                <Section id="reviews" className="bg-gray-50">
                    <div className="container mx-auto px-6">
                    <div className="flex flex-col md:flex-row justify-between items-end mb-12">
                        <div>
                        <h2 className="text-3xl font-bold text-gray-900 mb-2">Resultados Cl√≠nicos Reales</h2>
                        <div className="flex items-center gap-2"><div className="flex text-[#FF9900]"><Star fill="currentColor" size={20} /><Star fill="currentColor" size={20} /><Star fill="currentColor" size={20} /><Star fill="currentColor" size={20} /><Star fill="currentColor" size={20} /></div><span className="text-gray-600 font-medium">Recomendado por Profesionales de la Salud</span></div>
                        </div>
                        <Button variant="ghost" onClick={openAmazon} className="text-[#00AEEF] hover:text-[#008CCF] mt-4 md:mt-0">Ver las 500+ rese√±as <ArrowRight size={16} /></Button>
                    </div>
                    <div className="grid md:grid-cols-3 gap-6">
                        <AmazonReviewCard title="Resultados visibles en Parkinson" author="Dra. Elena M." date="15 de noviembre de 2024" text="Como neur√≥loga, he empezado a recomendar los ejercicios de 'Melod√≠a Cin√©tica' de este libro a mis pacientes. He observado una mejora del 40% en la fluidez de la marcha en solo un mes. Es un complemento cl√≠nico invaluable."/>
                        <AmazonReviewCard title="Vital para la rehabilitaci√≥n de Ictus" author="Javier L." date="3 de diciembre de 2024" text="Despu√©s de sufrir un Ictus, mi fisioterapia estaba estancada. El cap√≠tulo sobre 'Estimulaci√≥n R√≠tmica Auditiva' me ayud√≥ a recuperar la movilidad de mi brazo derecho cuando nada m√°s funcionaba. Mi terapeuta est√° asombrado."/>
                        <AmazonReviewCard title="Eficaz en TDAH y ansiedad cl√≠nica" author="Roberto F., Psic√≥logo" date="22 de enero de 2025" text="Integro el protocolo de 21 d√≠as con mis pacientes j√≥venes con TDAH. La reducci√≥n en la agitaci√≥n motora y los niveles de cortisol es medible y consistente. Por fin una herramienta no farmacol√≥gica que funciona."/>
                    </div>
                    </div>
                </Section>

                <Section id="autor" className="bg-white">
                    <div className="container mx-auto px-6">
                    <div className="max-w-4xl mx-auto bg-gradient-to-br from-[#232f3e] to-[#1a232f] rounded-3xl p-8 md:p-12 text-white flex flex-col md:flex-row items-center gap-8 shadow-2xl">
                        <div className="w-32 h-32 md:w-48 md:h-48 rounded-full bg-white/10 flex-shrink-0 overflow-hidden border-4 border-[#00AEEF]">
                            <img src={IMAGES.author} alt="Aurora Del R√≠o" className="w-full h-full object-cover" />
                        </div>
                        <div>
                            <h3 className="text-2xl font-bold mb-2">Qui√©nes Somos: Aurora Del R√≠o y el M√©todo Activa</h3>
                            <p className="text-[#2DD6F5] text-sm font-bold uppercase tracking-wider mb-4">Investigaci√≥n & Bienestar Integral</p>
                            <p className="text-gray-200 leading-relaxed mb-6">
                            Aurora Del R√≠o cuenta con m√°s de 20 a√±os de dedicaci√≥n a la m√∫sica y un M√°ster Europeo de Musicoterapia con calificaci√≥n de sobresaliente. Junto a su equipo, aplica este conocimiento cient√≠fico para transformar la salud a trav√©s del M√©todo Activa.
                            </p>
                        </div>
                    </div>
                    </div>
                </Section>

                <div className="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 p-4 md:hidden z-50 shadow-[0_-5px_10px_rgba(0,0,0,0.05)] flex items-center justify-between">
                    <div><p className="text-xs text-gray-500 line-through">24.99‚Ç¨</p><p className="font-bold text-gray-900 text-lg">19.95‚Ç¨</p></div>
                    <Button onClick={openAmazon} variant="amazon" className="py-2 px-6 text-sm">Comprar ya</Button>
                </div>

                <Section className="bg-gradient-to-br from-gray-50 to-gray-200">
                    <div className="container mx-auto px-6 text-center">
                    <h2 className="text-3xl md:text-5xl font-black mb-6 text-gray-900">Descubre el Arte como medicina para tu Salud y Bienestar.</h2>
                    <p className="text-xl text-gray-600 mb-10 max-w-2xl mx-auto">M√°s all√° de la est√©tica, el arte es una necesidad biol√≥gica. Activa los mecanismos naturales de sanaci√≥n de tu cuerpo y recupera tu equilibrio vital hoy mismo.</p>
                    <Button onClick={openAmazon} className="text-xl px-16 py-6 shadow-2xl animate-pulse hover:animate-none" variant="amazon">Ver Oferta en Amazon</Button>
                    <div className="mt-8 flex justify-center gap-8 opacity-60 grayscale hover:grayscale-0 transition-all"><span className="font-bold text-xl text-gray-400">amazon</span><span className="font-bold text-xl text-gray-400">kindle</span><span className="font-bold text-xl text-gray-400">Audible</span></div>
                    </div>
                </Section>

                <footer className="bg-white border-t border-gray-200 py-12 pb-24 md:pb-12">
                    <div className="container mx-auto px-6 text-center text-gray-500 text-sm">
                    <p className="mb-4 font-bold text-gray-900">M√âTODO ACTIVA &copy; {new Date().getFullYear()}</p>
                    <div className="flex justify-center gap-6"><a href="#" className="hover:text-[#00AEEF]">Aviso Legal</a><a href="#" className="hover:text-[#00AEEF]">Pol√≠tica de Privacidad</a><a href="#" className="hover:text-[#00AEEF]">Contacto</a></div>
                    </div>
                </footer>

                <LeadMagnetModal isOpen={showLeadModal} onClose={() => setShowLeadModal(false)} onSuccess={handleLeadSuccess} />
                {showContentModal && <BookReader onClose={() => setShowContentModal(false)} onBuy={openAmazon} />}
                </div>
            );
        }

        // Renderizar la App
        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
